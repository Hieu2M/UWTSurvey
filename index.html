<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>UWT Urban Design</title>
  <script type="text/javascript">
    (function() {
      // Only run this script once
      if (window.routingInitialized) return;
      window.routingInitialized = true;

      function handleRouting() {
        const path = window.location.pathname;
        const search = window.location.search;
        const hash = window.location.hash;
        const fullPath = path + search + hash;

        // Don't store path for static assets or home page
        if (path !== '/' && !path.includes('.')) {
          try {
            window.sessionStorage.setItem('lastPath', fullPath);
          } catch (e) {
            console.warn('Failed to store path in sessionStorage:', e);
          }
        }
      }

      // Handle initial load
      handleRouting();

      // Handle navigation events
      window.addEventListener('popstate', handleRouting);
      window.addEventListener('pushstate', handleRouting);
      window.addEventListener('replacestate', handleRouting);
    })();
  </script>
</head>
<body>
<div id="root"></div>
<script type="module" src="/src/main.tsx"></script>
</body>
</html>